# Keyring and auth
# 作用：会话启动时执行一次，启动 gnome-keyring 的 secrets 组件，为应用提供密钥存储
exec-once = gnome-keyring-daemon --start --components=secrets
# 作用：会话启动时执行一次，启动 polkit 认证代理，处理提权弹窗
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Clipboard history
# 作用：会话启动时执行一次，持续监听文本剪贴板并写入 cliphist 历史
exec-once = wl-paste --type text --watch cliphist store
# 作用：会话启动时执行一次，持续监听图片剪贴板并写入 cliphist 历史
exec-once = wl-paste --type image --watch cliphist store

# Auto delete trash 30 days old
# 作用：会话启动时执行一次，清理 30 天前的回收站文件
exec-once = trash-empty 30

# Cursors
# 作用：会话启动时执行一次，为当前 Hyprland 会话设置光标主题和大小
exec-once = hyprctl setcursor $cursorTheme $cursorSize
# 作用：会话启动时执行一次，同步 GNOME/GTK 光标主题，避免应用间不一致
exec-once = gsettings set org.gnome.desktop.interface cursor-theme '$cursorTheme'
# 作用：会话启动时执行一次，同步 GNOME/GTK 光标大小
exec-once = gsettings set org.gnome.desktop.interface cursor-size $cursorSize

# Location provider and night light
# 作用：会话启动时执行一次，启动地理位置代理，给夜间色温等服务提供定位
exec-once = /usr/lib/geoclue-2.0/demos/agent
# 作用：会话启动时执行一次，延迟启动 gammastep，自动调节色温
exec-once = sleep 1 && gammastep

# Forward bluetooth media commands to MPRIS
# 作用：会话启动时执行一次，把蓝牙耳机媒体按键转发到 MPRIS
exec-once = mpris-proxy

# Resize and move windows based on matches (e.g. pip)
# 作用：会话启动时执行一次，后台启动窗口尺寸守护进程（如 PIP 自动定位）
exec-once = caelestia resizer -d

# Start shell
# 作用：会话启动时执行一次，后台启动 Caelestia shell
exec-once = caelestia shell -d
